<!DOCTYPE HTML>
<html>

<head>
	<title>Precaution (Booster) Dose Calculator Tool</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="https://code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
</head>

<body>
	<div class="px-4 py-4 my-4 text-center"> <img src='3rd-dose.png' alt="Booster Dose Banner" style="width: 90%; height: auto; padding: 2rem;" />
		<div class="container">
			<p class="lead mb-4" style="font-size:18px;font-family: Arial, Helvetica, sans-serif;"> This tool was built based on information by MoHFW. Precaution (booster) dose can only be taken after 9 months i.e., 39 weeks from the date of administration of 2nd dose. </p>
			<p class="lead mb-4" style="font-size:18px;font-family: Arial, Helvetica, sans-serif;"> All Healthcare workers, Frontline workers and citizens aged 60 years or above with comorbidities are eligible for precaution dose (booster). </p>
			<hr/>
			<div>
				<h4 class="dose"> Enter your 2nd dose date &nbsp; </h4>
				<h4> <input type="date" style="padding: 1rem 1rem 1rem 1rem;" placeholder="DD-MM-YYYY"  id = "txtDate" min="2021-01-01" max="2099-12-31" onkeydown="event.preventDefault()"/> </h4> </div>
			<div>
				<button id ='click' type="button" class="btn btn-secondary button" onClick="getdate()"> CLICK HERE </button>
			</div>
			<div class="px-3 py-2 my-2 text-center">
				<h4 class="display-8 fw-bold" style="color:#005cb9; font-weight: bold;" id="demo"></h4>
				<hr/>
				<p class="lead mb-4 mt-20" style="font-size:14px;font-family: Arial, Helvetica, sans-serif;"> Note: In case an individual is affected by covid19, all Covid vaccination including precautionary dose to be deferred by 3 months after recovery. Call 104 for vaccination related queries | This tool is not a medical advice.
					
					<hr/> Check out <a href="https://newsofchennai.app/">NewsofChennai.App</a> - A citizen app for Chennai | Follow News of Chennai on <a href="https://www.instagram.com/newsofchennai/">Instagram </a> & <a href="https://twitter.com/newsofchennai"> Twitter</a> for important updates | Development: Archana Ashok </p>
			</div>
		</div>
	</div>
	<script>
		function getdate() {
			var numWeeks = 39;
			var tt = document.getElementById('txtDate').value;
			console.log(tt);
			
			var value = new Date(txtDate.value),
                min = new Date(txtDate.min),
                max = new Date(txtDate.max);
				
			if (tt == null || tt == '') {
				console.log('inside if');
				document.getElementById("demo").innerHTML = "<h5 style='color:red;font-family: Arial, Helvetica, sans-serif;'>Please select your 2nd dose date</h5>" ;
			} else if (value < min || value > max){
				console.log('else if');
				document.getElementById("demo").innerHTML = "<h5 style='color:red;font-family: Arial, Helvetica, sans-serif;'>Please select the appropriate date</h5>" ;
			} else { 
				console.log('inside else');
				var date = new Date(tt);
				var newdate = new Date(date);
				var dt = new Date(newdate);
				dt.setDate(dt.getDate() + numWeeks * 7);

				function x(n) {
					return(n < 10 ? '0' : '') + n;
				}
				var doseDate = dt;
				var month = x(doseDate.getMonth() + 1); 
				var day = x(doseDate.getDate()); 
				var year = doseDate.getFullYear();
				var formattedDate = day + "-" + month + "-" + year;
				document.getElementById("demo").innerHTML = "Your possible 3rd dose date is " + formattedDate;		
			}
		}
	</script>
</body>

</html>